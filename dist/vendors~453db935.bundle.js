(self.webpackChunkspectacle_boilerplate=self.webpackChunkspectacle_boilerplate||[]).push([[669],{48954:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=x(a(97551)),r=x(a(31126)),l=x(a(84684)),o=x(a(62193)),u=x(a(55364)),i="src/victory-legend/victory-legend.js",f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=x(a(96540)),c=x(a(5556)),p=x(a(17740)),y=x(a(83896)),h=x(a(15899)),m=x(a(40496)),g=x(a(74496)),b=x(a(13760)),v=x(a(91804)),S=x(a(71333));function x(e){return e&&e.__esModule?e:{default:e}}function O(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var _=[{name:"Series 1"},{name:"Series 2"}],w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"calculateLegendHeight",value:function(e,t,a){var l=this.props,o=l.gutter,u=l.itemsPerRow,i=e.length,f=u?Math.ceil(i/u):1,s=a?(0,n.default)(e,"height").height*f+o*(f-1):((0,r.default)(e,"height")+o*(i-1))/f;return t.top+s+t.bottom}},{key:"calculateLegendWidth",value:function(e,t,a,n){var r=this.props,l=r.gutter,o=r.itemsPerRow,u=r.symbolSpacer,i=o?Math.ceil(e/o):1,f=o||e,s=void 0;a?s=3*u*f+n*f+l*f:s=(n+2*u+l)*i;return t.left+s+t.right}},{key:"getColorScale",value:function(e){var t=this.props.colorScale||e.colorScale;return"string"==typeof t&&(t=y.default.getColorScale(t)),(0,o.default)(e)?t||[]:t||e.colorScale}},{key:"getCalculatedProps",value:function(){var e=this,t=this.constructor.role,a=this.props,n=a.data,r=a.orientation,l=a.theme,o=l&&l[t]?l[t]:{},u=this.getStyles({},o,"parent"),i=this.getColorScale(o),s="horizontal"===r,d=[],c=[],p=this.props,y=p.height,g=p.padding,b=p.width,v=0;g=m.default.getPadding({padding:g||l.padding}),y=m.default.evaluateProp(y||l.height,n),b=m.default.evaluateProp(b||l.width,n);var S=n.map((function(t,a){var n=e.getStyles(t,o,"labels"),r=h.default.approximateTextSize(t.name,n);return v=r.width>v?r.width:v,d[a]=e.getStyles(t,o,"symbol",i[a]),c[a]=n,r}));return y||(y=this.calculateLegendHeight(S,g,s)),b||(b=this.calculateLegendWidth(S.length,g,s,v)),f({},this.props,{isHorizontal:s,height:y,labelStyles:c,maxTextWidth:v,padding:g,parentStyles:u,symbolStyles:d,width:b})}},{key:"getStyles",value:function(e,t,a,n){var r=this.props.style,l="symbol"===a?"data":a,o=n?{fill:n}:{},i=(0,u.default)({},t.style[l],o,r[l],e[a]);return m.default.evaluateStyle(i,e)}},{key:"getSymbolSize",value:function(e,t){return e.symbol&&e.symbol.size?e.symbol.size:t/2.5}},{key:"getSymbolProps",value:function(e,t,a){var n=t.dataComponent,r=t.gutter,o=t.isHorizontal,u=t.itemsPerRow,i=t.labelStyles,s=t.maxTextWidth,d=t.padding,c=t.symbolSpacer,p=t.symbolStyles,y=i[a].fontSize,h=y/2,m=p[a],g=y+r,b=a,v=0,S=0;u&&(v=g*(S=Math.floor(a/u)),b=a%u);var x=o?{x:d.left+h+(y+c+s+r)*b,y:d.top+h+v}:{x:d.left+h+(g+s)*S,y:d.top+h+g*b};return(0,l.default)({},n.props,f({key:"symbol-"+a,style:m,size:this.getSymbolSize(e,y),symbol:m.type},x))}},{key:"getLabelProps",value:function(e,t,a){var n=t.gutter,r=t.isHorizontal,o=t.itemsPerRow,u=t.labelComponent,i=t.labelStyles,s=t.maxTextWidth,d=t.padding,c=t.symbolSpacer,p=i[a],y=p.fontSize,h=y/2,m=y+n,g=y+c,b=a,v=0,S=0;o&&(v=m*(S=Math.floor(a/o)),b=a%o);var x=r?{x:d.left+g*(b+1)+(s+n)*b,y:d.top+h+v}:{x:d.left+g+(m+s)*S,y:d.top+h+m*b};return(0,l.default)({},u.props,f({key:"label-"+a,style:p,text:e.name},x))}},{key:"renderLegendItems",value:function(e){var t=this,a=e.data,n=e.dataComponent,r=e.labelComponent,l=(0,o.default)(a)?_:a,u=l.map((function(a,r){return d.default.cloneElement(n,t.getSymbolProps(a,e,r))})),i=l.map((function(a,n){return d.default.cloneElement(r,t.getLabelProps(a,e,n))}));return[].concat(O(u),O(i))}},{key:"renderGroup",value:function(e,t){var a=e.groupComponent,n=e.height,r=e.parentStyles,l=e.standalone,o=e.width,u=e.x,i=e.y,s={role:"presentation"};return l||(s=f({height:n,width:o,transform:"translate("+u+", "+i+")",style:r},s)),d.default.cloneElement(a,s,t)}},{key:"renderContainer",value:function(e,t){var a=e.containerComponent,n=e.height,r=e.parentStyles,l=e.width;return d.default.cloneElement(a,{height:n,width:l,style:r},t)}},{key:"render",value:function(){var e=this.getCalculatedProps(),t=this.renderGroup(e,this.renderLegendItems(e));return e.standalone?this.renderContainer(e,t):t}}]),t}(d.default.Component);w.displayName="VictoryLegend",w.role="legend",w.propTypes={colorScale:c.default.oneOfType([c.default.arrayOf(c.default.string),c.default.oneOf(["grayscale","qualitative","heatmap","warm","cool","red","green","blue"])]),containerComponent:c.default.element,data:c.default.arrayOf(c.default.shape({name:c.default.string.isRequired,label:c.default.object,symbol:c.default.object})),dataComponent:c.default.element,groupComponent:c.default.element,gutter:c.default.number,height:c.default.oneOfType([p.default.nonNegative,c.default.func]),itemsPerRow:c.default.number,labelComponent:c.default.element,orientation:c.default.oneOf(["horizontal","vertical"]),padding:c.default.oneOfType([c.default.number,c.default.shape({top:c.default.number,bottom:c.default.number,left:c.default.number,right:c.default.number})]),standalone:c.default.bool,style:c.default.shape({data:c.default.object,labels:c.default.object,parent:c.default.object}),symbolSpacer:c.default.number,theme:c.default.object,width:c.default.oneOfType([p.default.nonNegative,c.default.func]),x:c.default.number,y:c.default.number},w.defaultProps={data:_,containerComponent:d.default.createElement(b.default,{__source:{fileName:i,lineNumber:76}}),dataComponent:d.default.createElement(S.default,{__source:{fileName:i,lineNumber:77}}),groupComponent:d.default.createElement("g",{__source:{fileName:i,lineNumber:78}}),gutter:10,labelComponent:d.default.createElement(g.default,{__source:{fileName:i,lineNumber:80}}),orientation:"vertical",standalone:!0,style:{},symbolSpacer:8,theme:v.default.grayscale,x:0,y:0},t.default=w},74496:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(55364)),r=m(a(86139)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o="src/victory-label/victory-label.js",u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=m(a(96540)),f=m(a(5556)),s=m(a(42444)),d=m(a(17740)),c=m(a(68505)),p=m(a(40496)),y=m(a(83896)),h=m(a(18443));function m(e){return e&&e.__esModule?e:{default:e}}var g={fill:"#252525",fontSize:14,fontFamily:"'Gill Sans', 'Gill Sans MT', 'SerÂ­avek', 'Trebuchet MS', sans-serif",stroke:"transparent"},b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentWillMount",value:function(){this.cacheAttributes(this.calculateAttributes(this.props))}},{key:"shouldComponentUpdate",value:function(e){var t=this.calculateAttributes(e),a=t.style,n=t.dx,r=t.dy,l=t.content,o=t.lineHeight,u=t.textAnchor,i=t.transform,f=this.props,s=f.angle,d=f.className,p=f.datum,y=f.x,h=f.y;return!c.default.allSetsEqual([[s,e.angle],[d,e.className],[y,e.x],[h,e.y],[n,this.dx],[r,this.dy],[o,this.lineHeight],[u,this.textAnchor],[i,this.transform],[l,this.content],[a,this.style],[p,e.datum]])&&(this.cacheAttributes(t),!0)}},{key:"cacheAttributes",value:function(e){var t=e.style,a=e.dx,n=e.dy,r=e.content,l=e.textAnchor,o=e.transform,u=e.lineHeight;this.style=t,this.dx=a,this.dy=n,this.content=r,this.textAnchor=l,this.lineHeight=u,this.transform=o}},{key:"calculateAttributes",value:function(e){var t=this.getStyles(e),a=this.getHeight(e,"lineHeight"),n=e.textAnchor?p.default.evaluateProp(e.textAnchor,e.datum):"start",r=this.getContent(e);return{style:t,dx:e.dx?p.default.evaluateProp(this.props.dx,e.datum):0,dy:this.getDy(e,t,r,a),content:r,lineHeight:a,textAnchor:n,transform:this.getTransform(e,t)}}},{key:"getStyle",value:function(e,t){t=t?(0,n.default)({},g,t):g;var a=e.datum||e.data,l=p.default.evaluateStyle(t,a,e.active);return(0,r.default)({},l,{fontSize:this.getFontSize(l)})}},{key:"getStyles",value:function(e){var t=this;return Array.isArray(e.style)?e.style.map((function(a){return t.getStyle(e,a)})):[this.getStyle(e,e.style)]}},{key:"getHeight",value:function(e,t){var a=e.datum||e.data;return p.default.evaluateProp(e[t],a,e.active)}},{key:"getContent",value:function(e){if(void 0===e.text||null===e.text)return[" "];var t=e.datum||e.data;return Array.isArray(e.text)?e.text.map((function(a){return p.default.evaluateProp(a,t,e.active)})):(""+p.default.evaluateProp(e.text,t,e.active)).split("\n")}},{key:"getDy",value:function(e,t,a,n){var r=t[0].fontSize,l=e.datum||e.data,o=e.dy?p.default.evaluateProp(e.dy,l):0,u=a.length,i=this.getHeight(e,"capHeight"),f=t.verticalAnchor||e.verticalAnchor;switch(f?p.default.evaluateProp(f,l):"middle"){case"end":return o+(i/2+(.5-u)*n)*r;case"middle":return o+(i/2+(.5-u/2)*n)*r;default:return o+(i/2+n/2)*r}}},{key:"getTransform",value:function(e,t){var a=e.datum,n=e.x,r=e.y,l=t.angle||e.angle,o=e.transform||t.transform,u=o&&p.default.evaluateProp(o,a),i=l&&{rotate:[l,n,r]};return u||l?y.default.toTransformString(u,i):void 0}},{key:"getFontSize",value:function(e){var t=e&&e.fontSize;if("number"==typeof t)return t;if(null==t)return g.fontSize;if("string"==typeof t){var a=+t.replace("px","");return isNaN(a)?(h.default.warn("fontSize should be expressed as a number of pixels"),g.fontSize):a}return g.fontSize}},{key:"renderElements",value:function(e){var t=this,a={dx:this.dx,dy:this.dy,x:e.x,y:e.y,transform:this.transform,className:e.className};return i.default.createElement("text",l({},a,e.events,{__source:{fileName:o,lineNumber:233}}),this.props.title&&i.default.createElement("title",{__source:{fileName:o,lineNumber:236}},this.props.title),this.props.desc&&i.default.createElement("desc",{__source:{fileName:o,lineNumber:237}},this.props.desc),this.content.map((function(a,n){var r=t.style[n]||t.style[0],l=t.style[n-1]||t.style[0],u=(r.fontSize+l.fontSize)/2,f=r.textAnchor||t.textAnchor,s=n?t.lineHeight*u:void 0;return i.default.createElement("tspan",{key:n,x:e.x,dy:s,dx:t.dx,style:r,textAnchor:f,__source:{fileName:o,lineNumber:245}},a)})))}},{key:"render",value:function(){var e=this.renderElements(this.props);return this.props.renderInPortal?i.default.createElement(s.default,{__source:{fileName:o,lineNumber:256}},e):e}}]),t}(i.default.Component);b.displayName="VictoryLabel",b.role="label",b.propTypes={active:f.default.bool,angle:f.default.oneOfType([f.default.string,f.default.number]),capHeight:f.default.oneOfType([f.default.string,d.default.nonNegative,f.default.func]),className:f.default.string,data:f.default.array,datum:f.default.any,desc:f.default.string,dx:f.default.oneOfType([f.default.number,f.default.string,f.default.func]),dy:f.default.oneOfType([f.default.number,f.default.string,f.default.func]),events:f.default.object,index:f.default.oneOfType([f.default.number,f.default.string]),lineHeight:f.default.oneOfType([f.default.string,d.default.nonNegative,f.default.func]),renderInPortal:f.default.bool,style:f.default.oneOfType([f.default.object,f.default.array]),text:f.default.oneOfType([f.default.string,f.default.number,f.default.func,f.default.array]),textAnchor:f.default.oneOfType([f.default.oneOf(["start","middle","end","inherit"]),f.default.func]),title:f.default.string,transform:f.default.oneOfType([f.default.string,f.default.object,f.default.func]),verticalAnchor:f.default.oneOfType([f.default.oneOf(["start","middle","end"]),f.default.func]),x:f.default.number,y:f.default.number},b.defaultProps={capHeight:.71,lineHeight:1},t.default=b}}]);